"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2895],{13581:function(e,t,r){r.d(t,{ZP:function(){return TabContext},_i:function(){return useTabContext},pQ:function(){return getTabId},uU:function(){return getPanelId}});var s=r(2265),n=r(57437);let a=s.createContext(null);function useUniquePrefix(){let[e,t]=s.useState(null);return s.useEffect(()=>{t(`mui-p-${Math.round(1e5*Math.random())}`)},[]),e}function TabContext(e){let{children:t,value:r}=e,i=useUniquePrefix(),o=s.useMemo(()=>({idPrefix:i,value:r}),[i,r]);return(0,n.jsx)(a.Provider,{value:o,children:t})}function useTabContext(){return s.useContext(a)}function getPanelId(e,t){let{idPrefix:r}=e;return null===r?null:`${e.idPrefix}-P-${t}`}function getTabId(e,t){let{idPrefix:r}=e;return null===r?null:`${e.idPrefix}-T-${t}`}},36218:function(e,t,r){var s=r(13428),n=r(20791),a=r(2265),i=r(60642),o=r(13581),l=r(57437);let u=["children"],d=a.forwardRef(function(e,t){let{children:r}=e,d=(0,n.Z)(e,u),c=(0,o._i)();if(null===c)throw TypeError("No TabContext provided");let f=a.Children.map(r,e=>a.isValidElement(e)?a.cloneElement(e,{"aria-controls":(0,o.uU)(c,e.props.value),id:(0,o.pQ)(c,e.props.value)}):null);return(0,l.jsx)(i.Z,(0,s.Z)({},d,{ref:t,value:c.value,children:f}))});t.Z=d},11290:function(e,t,r){r.d(t,{Z:function(){return p}});var s=r(13428),n=r(20791),a=r(2265),i=r(57042),o=r(35843),l=r(87927),u=r(95600),d=r(25702);function getTabPanelUtilityClass(e){return(0,d.Z)("MuiTabPanel",e)}(0,r(26520).Z)("MuiTabPanel",["root"]);var c=r(13581),f=r(57437);let m=["children","className","value"],useUtilityClasses=e=>{let{classes:t}=e;return(0,u.Z)({root:["root"]},getTabPanelUtilityClass,t)},h=(0,o.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(3)})),x=a.forwardRef(function(e,t){let r=(0,l.Z)({props:e,name:"MuiTabPanel"}),{children:a,className:o,value:u}=r,d=(0,n.Z)(r,m),x=(0,s.Z)({},r),p=useUtilityClasses(x),g=(0,c._i)();if(null===g)throw TypeError("No TabContext provided");let Z=(0,c.uU)(g,u),v=(0,c.pQ)(g,u);return(0,f.jsx)(h,(0,s.Z)({"aria-labelledby":v,className:(0,i.Z)(p.root,o),hidden:u!==g.value,id:Z,ref:t,role:"tabpanel",ownerState:x},d,{children:u===g.value&&a}))});var p=x},8323:function(e,t,r){var s=r(13428),n=r(20791),a=r(2265),i=r(57042),o=r(95600),l=r(35843),u=r(87927),d=r(35619),c=r(57437);let f=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},d.N,t)},m=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),h=a.forwardRef(function(e,t){let r=(0,u.Z)({props:e,name:"MuiCardContent"}),{className:a,component:o="div"}=r,l=(0,n.Z)(r,f),d=(0,s.Z)({},r,{component:o}),h=useUtilityClasses(d);return(0,c.jsx)(m,(0,s.Z)({as:o,className:(0,i.Z)(h.root,a),ownerState:d,ref:t},l))});t.Z=h},35619:function(e,t,r){r.d(t,{N:function(){return getCardContentUtilityClass}});var s=r(26520),n=r(25702);function getCardContentUtilityClass(e){return(0,n.Z)("MuiCardContent",e)}let a=(0,s.Z)("MuiCardContent",["root"]);t.Z=a},65984:function(e,t,r){var s=r(13428),n=r(20791),a=r(2265),i=r(57042),o=r(95600),l=r(35843),u=r(87927),d=r(18687),c=r(43874),f=r(57437);let m=["className","raised"],useUtilityClasses=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},c.y,t)},h=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),x=a.forwardRef(function(e,t){let r=(0,u.Z)({props:e,name:"MuiCard"}),{className:a,raised:o=!1}=r,l=(0,n.Z)(r,m),d=(0,s.Z)({},r,{raised:o}),c=useUtilityClasses(d);return(0,f.jsx)(h,(0,s.Z)({className:(0,i.Z)(c.root,a),elevation:o?8:void 0,ref:t,ownerState:d},l))});t.Z=x},43874:function(e,t,r){r.d(t,{y:function(){return getCardUtilityClass}});var s=r(26520),n=r(25702);function getCardUtilityClass(e){return(0,n.Z)("MuiCard",e)}let a=(0,s.Z)("MuiCard",["root"]);t.Z=a},69246:function(e,t,r){t.Z=void 0;var s,n=(0,((s=r(74516))&&s.__esModule?s:{default:s}).default)("M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,6A2,2 0 0,0 10,8A2,2 0 0,0 12,10A2,2 0 0,0 14,8A2,2 0 0,0 12,6M12,13C14.67,13 20,14.33 20,17V20H4V17C4,14.33 9.33,13 12,13M12,14.9C9.03,14.9 5.9,16.36 5.9,17V18.1H18.1V17C18.1,16.36 14.97,14.9 12,14.9Z","AccountOutline");t.Z=n},92110:function(e,t,r){t.Z=void 0;var s,n=(0,((s=r(74516))&&s.__esModule?s:{default:s}).default)("M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z","Close");t.Z=n},74140:function(e,t,r){t.Z=void 0;var s,n=(0,((s=r(74516))&&s.__esModule?s:{default:s}).default)("M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z","EyeOffOutline");t.Z=n},47216:function(e,t,r){t.Z=void 0;var s,n=(0,((s=r(74516))&&s.__esModule?s:{default:s}).default)("M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z","EyeOutline");t.Z=n},25030:function(e,t,r){t.Z=void 0;var s,n=(0,((s=r(74516))&&s.__esModule?s:{default:s}).default)("M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z","InformationOutline");t.Z=n},24855:function(e,t,r){t.Z=void 0;var s,n=(0,((s=r(74516))&&s.__esModule?s:{default:s}).default)("M18,20V10H6V20H18M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10A2,2 0 0,1 6,8H15V6A3,3 0 0,0 12,3A3,3 0 0,0 9,6H7A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,17A2,2 0 0,1 10,15A2,2 0 0,1 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17Z","LockOpenOutline");t.Z=n},74516:function(e,t,r){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=_interopRequireWildcard(r(2265)),n=r(59897);function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(s,a,i):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}t.default=function(e,t){return(0,n.createSvgIcon)(s.createElement("path",{d:e}),t)}},33712:function(e,t,r){var s=r(57437),n=r(33071),a=r(45623),i=r(48749),o=r(2265),l=r(3198),u=r(37451),d=r(2879),c=r(2278),f=r(38939),m=r(85269),h=r(49600),x=r(21700);let{Option:p}=a.default;t.Z=e=>{let{showModal:t,setShowModal:r}=e,a=(0,l.v9)(c.rk),p=(0,l.v9)(x.uS),[g,Z]=(0,o.useState)(!1),Reset=async()=>{let e={updated_by_id:a.id,account_to_reset_id:p.id,password:"0000",action:"resetting_password"},t=await (0,d.iK)({method:"post",url:u.ZM,payload:e,hasAuth:!0});Z(!1),(null==t?void 0:t.data.success)&&(i.ZP.success({message:"Operation Successful",description:"Password Reset Successfully"}),r(!1)),(null==t?void 0:t.data.error)&&i.ZP.error({message:"Operation Failed",description:"".concat(JSON.stringify(t.data.error))})};return(0,s.jsx)(n.Z,{title:"Reset Password - ".concat(null==p?void 0:p.first_name," ").concat(null==p?void 0:p.last_name),open:t,onCancel:()=>r(!1),footer:!1,children:(0,s.jsxs)(f.ZP,{item:!0,xs:12,sx:{marginTop:3},container:!0,justifyContent:"center",children:[(0,s.jsx)(m.Z,{alignContent:"center",variant:"h2",children:"Are You Sure to Reset Account Password ? "}),(0,s.jsx)(m.Z,{alignContent:"center",variant:"h1",children:"NB"}),(0,s.jsx)(m.Z,{alignContent:"center",variant:"h5",children:(0,s.jsxs)("code",{children:[null==p?void 0:p.first_name," will not be able to login with old password"]})}),(0,s.jsx)(m.Z,{alignContent:"center",variant:"h5",children:(0,s.jsx)("code",{children:"The New Password after successful Reset will be"})}),(0,s.jsx)(m.Z,{alignContent:"center",variant:"h3",children:"0000"}),(0,s.jsx)(f.ZP,{item:!0,xs:12,sx:{marginTop:3},container:!0,justifyContent:"center",children:(0,s.jsx)(h.Z,{onClick:()=>{Reset()},children:"Reset"})})]})})}},55941:function(e,t,r){var s=r(57437),n=r(49600),a=r(71460);r(2265);var i=r(80432),o=r(47042);t.Z=e=>{let{fetching:t,loadingText:r}=e,l={...t&&{bgcolor:i.Z[500],"&:hover":{bgcolor:i.Z[800]}}};return(0,s.jsxs)(n.Z,{sx:{m:0,position:"relative"},children:[(0,s.jsx)(a.Z,{"aria-label":"save",color:"primary",sx:l,children:t?r||"Loading":(0,s.jsx)(s.Fragment,{})}),t&&(0,s.jsx)(o.Z,{size:71,sx:{color:i.Z[500],position:"absolute",top:0,left:0,zIndex:0}})]})}},38214:function(e,t,r){var s=r(57437),n=r(61865),a=r(67248);t.Z=e=>{let{name:t,control:r,label:i,size:o,required:l,type:u,defaultValue:d,multiline:c,rows:f,disabled:m,customInput:h}=e;return(0,s.jsx)(n.Qr,{name:t,control:r,render:e=>{let{field:{onChange:t,value:r},fieldState:{error:n},formState:x}=e;return(0,s.jsx)("div",{children:h?(0,s.jsx)("div",{children:h}):(0,s.jsx)(a.Z,{helperText:n?n.message:null,size:o,error:!!n,required:l,onChange:t,type:u,value:r,fullWidth:!0,label:i,defaultValue:d,variant:"outlined",disabled:m,multiline:c,maxRows:f,sx:{width:"100%"}})})}})}},78409:function(e,t,r){var s=r(57437),n=r(90250),a=r(76096),i=r(2265);t.Z=e=>{let{message:t,show:r,setShow:o,severity:l}=e,u=(0,i.forwardRef)(function(e,t){return(0,s.jsx)(n.Z,{elevation:6,ref:t,...e})}),handleClose=(e,t)=>{"clickaway"!==t&&o(!1)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.Z,{open:r,onClose:handleClose,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,s.jsx)(u,{onClose:handleClose,severity:l,children:t})})})}},21700:function(e,t,r){r.d(t,{Gn:function(){return u},Ox:function(){return d},bk:function(){return i},nS:function(){return selectChoosenUserProfile},nY:function(){return c},oP:function(){return o},os:function(){return l},uS:function(){return selectChoosenUser}});var s=r(50663);let n={id:0,username:"",role:"",first_name:"",last_name:"",created_at:"",last_login:"",is_active:!1,dept:null,matricle:"",about:"",sex:"",telephone:0,pob:"",dob:"",email:"",email_confirmed:!1},a={id:0,user:n,first_name:"",last_name:"",about:"",telephone:0,sex:"",pob:"",dob:"",email:"",title:"",updated_at:"",created_at:"",email_confirmed:!1},i=(0,s.oM)({name:"choosedUser",initialState:n,reducers:{addChoosenUser:(e,t)=>{let r=t.payload;return r},removeChoosenUser:()=>n}}),o=(0,s.oM)({name:"choosenUserProfile",initialState:a,reducers:{addChoosenUserProfile:(e,t)=>{let r=t.payload;return r},removeChoosenUserProfile:()=>a}}),{addChoosenUser:l,removeChoosenUser:u}=i.actions,{addChoosenUserProfile:d,removeChoosenUserProfile:c}=o.actions,selectChoosenUser=e=>e.choosenUser,selectChoosenUserProfile=e=>e.choosenUserProfile;i.reducer},2278:function(e,t,r){r.d(t,{BQ:function(){return u},P1:function(){return a},PJ:function(){return n},RW:function(){return f},d:function(){return selectUserProfile},dj:function(){return l},rk:function(){return selectAuthUser},v$:function(){return c},xI:function(){return d},zr:function(){return m}});var s=r(50663);let n={id:0,username:"",matricle:"",first_name:"",last_name:"",role:"",password:"",address:"",about:"",sex:"",telephone:0,pob:"",dob:"",email:"",email_confirmed:!1,hod:!1,title:"",created_at:"",last_login:"",is_active:!1,groups:[],user_permissions:[]},a={id:0,user:n,created_at:"",updated_at:""},i={id:0,username:"",role:"",is_active:!1,token:"",refresh:""},o={user_id:0},l=(0,s.oM)({name:"authUser",initialState:i,reducers:{addAuthUser:(e,t)=>{let r=t.payload;return r},removeAuthUser:()=>i}}),u=(0,s.oM)({name:"userProfile",initialState:a,reducers:{addUserProfile:(e,t)=>{let r=t.payload;return r},removeUserProfile:()=>a}}),d=(0,s.oM)({name:"userCheck",initialState:o,reducers:{addUserCheck:(e,t)=>{let r=t.payload;return r},removeUserCheck:()=>o}}),{addAuthUser:c,removeAuthUser:f}=l.actions,{addUserProfile:m,removeUserProfile:h}=u.actions,{addUserCheck:x,removeUserCheck:p}=d.actions,selectAuthUser=e=>e.authUser,selectUserProfile=e=>e.userProfile;l.reducer},37451:function(e,t,r){r.d(t,{$6:function(){return h},B5:function(){return Z},E2:function(){return C},FO:function(){return d},G1:function(){return v},Hz:function(){return w},IK:function(){return b},QM:function(){return u},Rd:function(){return c},SC:function(){return p},VN:function(){return i},W5:function(){return o},Xx:function(){return g},ZM:function(){return x},_F:function(){return a},bw:function(){return P},cU:function(){return j},dH:function(){return f},gv:function(){return l},tW:function(){return m},vw:function(){return n}});let s="https://st-joan.com/back/",n="https://st-joan.com/result/images/logos/stjoan.jpg",a="/images/avatars/user.jpg",i=s+"admin",o=s+"user/groups",l=s+"user/groups",u=s+"user/groups",d=s+"user/permissions",c=s+"user/login",f=s+"user/check-user",m=s+"user/crud-user",h=s+"user/assign-group-to-user",x=s+"user/create-update-reset-password",p=s+"user/password_reset",g=s+"user/user-profiles",Z=s+"app/domain",v=s+"app/mainspecialty",w=s+"app/specialty",j=s+"app/maincourse",C=s+"app/course",P=s+"app/result",b=s+"app/level"},44767:function(e,t,r){r.d(t,{Kq:function(){return useGetAllMainCourses},Lh:function(){return useGetAllLevels},Nz:function(){return useGetAllDomains},Rc:function(){return useGetPermissions},UK:function(){return useGetAllCourses},e6:function(){return useGetPermGroups},lJ:function(){return useGetAllMainSpecialties},lP:function(){return useGetAllResults},mC:function(){return useGetAllSpecialties},mb:function(){return useGetAllUsers},qT:function(){return useGetAllUserProfiles}});var s=r(2265),n=r(2879);let useGetPermGroups=(e,t)=>{(0,s.useEffect)(()=>{(0,n.TR)(e,t)},[e,t])},useGetPermissions=(e,t)=>{(0,s.useEffect)(()=>{(0,n.Zu)(e,t)},[e,t])},useGetAllUsers=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.AW)(e,t,r)},[e,t,r])},useGetAllUserProfiles=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.l)(e,t,r)},[e,t,r])},useGetAllDomains=(e,t)=>{(0,s.useEffect)(()=>{(0,n.CC)(e,t)},[e,t])},useGetAllSpecialties=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.h0)(e,t,r)},[e,t,r])},useGetAllMainSpecialties=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.VQ)(e,t,r)},[e,t,r])},useGetAllCourses=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.V3)(e,t,r)},[e,t,r])},useGetAllMainCourses=(e,t)=>{(0,s.useEffect)(()=>{(0,n.N9)(e,t)},[e,t])},useGetAllResults=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.qf)(e,t,r)},[e,t,r])},useGetAllLevels=(e,t)=>{(0,s.useEffect)(()=>{(0,n.cO)(e,t)},[e,t])}},2879:function(e,t,r){r.d(t,{AW:function(){return getAllUsers},CC:function(){return getAllDomains},N9:function(){return getAllMainCourses},TR:function(){return getPermGroups},V3:function(){return getAllCourses},VQ:function(){return getAllMainSpecialties},Zu:function(){return getPermissions},cO:function(){return getAllLevels},h0:function(){return getAllSpecialties},iK:function(){return axiosRequest},l:function(){return getAllUserProfiles},qf:function(){return getAllResults}});var s=r(92173),n=r(37451);let axiosRequest=async e=>{let{method:t="get",url:r,payload:n,hasAuth:a=!1,showError:i=!0,file:o=!1,params:l={},errorObject:u}=e,d={};o&&(d={...d,"content-type":"multipart/form-data"}),n={payload:n};let c=await (0,s.Z)({method:t,url:r,params:l,data:n,headers:{...d}}).catch(e=>{if(i)return e.response});return c||null},getPermGroups=async(e,t)=>{let r=await axiosRequest({url:n.W5,hasAuth:!0,showError:!1});if(r){let s=r.data.results.map(e=>({...e}));e(s),t(!1)}},getPermissions=async(e,t)=>{let r=await axiosRequest({url:n.FO,hasAuth:!0,showError:!1});if(r){let s=r.data.results.map(e=>({...e}));e(s),t(!1)}},getAllUsers=async(e,t,r)=>{console.log(r);let s=await axiosRequest({url:n.tW,hasAuth:!0,showError:!1,params:r});if(s){let r=s.data.results.map(e=>{var t,r,s;return{...e,created_at:null===(t=e.created_at)||void 0===t?void 0:t.toString().slice(0,10),last_login:(null===(r=e.last_login)||void 0===r?void 0:r.toString().slice(0,10))+" "+(null===(s=e.last_login)||void 0===s?void 0:s.toString().slice(11,16))}});e(r),t(!1)}},getAllUserProfiles=async(e,t,r)=>{let s=await axiosRequest({url:n.Xx,hasAuth:!0,showError:!1,params:r});if(s){let r=s.data.results.map(e=>{var t;return{...e,created_at:null===(t=e.created_at)||void 0===t?void 0:t.toString().slice(0,10)}});e(r),t(!1)}},getAllDomains=async(e,t)=>{let r=await axiosRequest({url:n.B5,hasAuth:!0,showError:!1});r&&(e(r.data.results),t(!1))},getAllSpecialties=async(e,t,r)=>{let s=await axiosRequest({url:n.Hz,hasAuth:!0,showError:!1,params:r});s&&(e(s.data.results),t(!1))},getAllMainSpecialties=async(e,t,r)=>{let s=await axiosRequest({url:n.G1,hasAuth:!0,showError:!1,params:r});s&&(e(s.data.results),t(!1))},getAllMainCourses=async(e,t)=>{let r=await axiosRequest({url:n.cU,hasAuth:!0,showError:!1});r&&(e(r.data.results),t(!1))},getAllCourses=async(e,t,r)=>{let s=await axiosRequest({url:n.E2,hasAuth:!0,showError:!1,params:r});s&&(e(s.data.results),t(!1))},getAllResults=async(e,t,r)=>{let s=await axiosRequest({url:n.bw,hasAuth:!0,showError:!1,params:r});s&&(e(s.data.results),t(!1))},getAllLevels=async(e,t)=>{let r=await axiosRequest({url:n.IK,hasAuth:!0,showError:!1});r&&(e(r.data.results),t(!1))}},78256:function(e,t,r){r.d(t,{Z:function(){return CompAccountSettingsStudent_TabAccountStudentLecturer}});var s=r(57437),n=r(2265),a=r(96507),i=r(38939),o=r(90250),l=r(18296),u=r(8323),d=r(49600),c=r(92110),f=r(38214),m=r(61865),h=r(3198),x=r(2879),p=r(37451),g=r(2278),Z=r(44767),v=r(48749),w=r(24033),j=r(55941),C=r(35843),P=r(85269),b=r(46776),y=r(88220),_=r(78409);let A={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},S={email:""};var Modals_ConfirmEmailModal=e=>{let{showModal:t,setShowModal:r,email:i}=e,[o,l]=n.useState(!1),[u,c]=n.useState(!1),[h,x]=n.useState("false"),[p,g]=n.useState("success"),{handleSubmit:Z,reset:v,control:w}=(0,m.cI)({defaultValues:S}),onSubmit=async e=>{};return(0,s.jsxs)("div",{children:[(0,s.jsx)(y.Z,{open:t,onClose:()=>{r(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsx)(a.Z,{sx:{...A,width:400},children:o?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.Z,{mt:4,mb:4,children:[(0,s.jsx)(a.Z,{m:2,sx:{width:"100"},children:(0,s.jsx)(P.Z,{sx:{color:"red"},children:"Enter Code Below"})}),(0,s.jsx)(a.Z,{m:2,sx:{width:"100"},children:(0,s.jsx)(f.Z,{name:"code",control:w,label:"CODE"})}),(0,s.jsx)(a.Z,{m:2,sx:{width:"100"},children:(0,s.jsx)(d.Z,{onClick:Z(onSubmit),variant:"contained",fullWidth:!0,children:"Validate Code"})}),(0,s.jsx)(a.Z,{m:2,sx:{width:"100",marginTop:10},children:(0,s.jsx)(P.Z,{sx:{color:"blue"},children:(0,s.jsx)("code",{className:"cursor-pointer",onClick:()=>{l(!1)},children:"Send Code"})})})]})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.Z,{mt:4,mb:4,children:[(0,s.jsxs)(a.Z,{m:2,sx:{width:"100"},children:[(0,s.jsx)(P.Z,{sx:{color:"red"},children:"Send Code to This Email"}),(0,s.jsx)(P.Z,{sx:{color:"blue"},children:(0,s.jsx)("code",{children:i})})]}),(0,s.jsx)(a.Z,{m:2,sx:{width:"100"},children:(0,s.jsx)(d.Z,{onClick:Z(onSubmit),variant:"contained",fullWidth:!0,children:"SEND"})}),(0,s.jsx)(a.Z,{m:2,sx:{width:"100",marginTop:10},children:(0,s.jsx)(P.Z,{sx:{color:"blue"},children:(0,s.jsx)("code",{className:"cursor-pointer",onClick:()=>{l(!0)},children:"I have code"})})})]})})})}),(0,s.jsx)(_.Z,{show:u,setShow:c,message:h,severity:p})]})};let M=(0,C.ZP)("img")(e=>{let{theme:t}=e;return{width:120,height:120,marginRight:t.spacing(6.25),borderRadius:t.shape.borderRadius}}),U=(0,C.ZP)(d.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{width:"100%",textAlign:"center"}}}),R=(0,C.ZP)(d.Z)(e=>{let{theme:t}=e;return{marginLeft:t.spacing(4.5),[t.breakpoints.down("sm")]:{width:"100%",marginLeft:0,textAlign:"center",marginTop:t.spacing(4)}}});var CompAccountSettingsStudent_TabAccountStudentLecturer=()=>{var e,t;let r=(0,w.useRouter)(),[C,y]=(0,n.useState)(!1),_=(0,h.I0)(),A=(0,h.v9)(g.d),S=(0,h.v9)(g.rk),[E,N]=(0,n.useState)([]),[T,L]=(0,n.useState)([]),[k,q]=(0,n.useState)([]),[V,O]=(0,n.useState)([]),[G,z]=(0,n.useState)(!1),[F,D]=(0,n.useState)(!1),[I,W]=(0,n.useState)([]),[H,K]=(0,n.useState)([]);(0,Z.Lh)(L,z),(0,Z.mC)(q,z),(0,Z.qT)(W,z),(0,Z.mb)(N,z,{searchField:"id",value:S.id}),(0,n.useEffect)(()=>{O(k)},[k]),(0,n.useEffect)(()=>{let e=I.filter(e=>e.user.id==S.id),t=e.map(e=>e.specialty);null!=t[0]&&K(t)},[_,I,S]),(0,n.useEffect)(()=>{},[]);let B={...E[0]},{handleSubmit:J,reset:Q,control:$}=(0,m.cI)({defaultValues:B}),[Y,X]=(0,n.useState)(!0),[ee,et]=(0,n.useState)("/images/avatars/1.png"),onSubmit=async e=>{console.log(e),console.log(B),(""==e.first_name||void 0==e.first_name)&&(e.first_name=B.first_name),(""==e.last_name||void 0==e.last_name)&&(e.last_name=B.last_name),(""==e.telephone.toString()||void 0==e.telephone)&&(e.telephone=B.telephone),(""==e.email||void 0==e.email)&&(e.email=B.email);let t={...e,first_name:e.first_name.toUpperCase(),last_name:e.last_name.toUpperCase(),user_id:e.id,username:B.username,role:B.role,updated_by_id:S.id,multiple:!0};D(!0);let s=await (0,x.iK)({method:"put",url:p.tW+"/"+B.id,payload:t,hasAuth:!0});if(D(!1),null==s?void 0:s.data){var n,a;(null===(n=s.data)||void 0===n?void 0:n.success)&&(_((0,g.zr)(s.data.success)),v.ZP.success({message:"OK",description:"Successfully Updated User"}),r.back()),(null===(a=s.data)||void 0===a?void 0:a.errors)&&v.ZP.error({message:"FAILED",description:"".concat(JSON.stringify(s.data.errors))}),s.data.error&&v.ZP.error({message:"FAILED",description:"".concat(JSON.stringify(s.data.error))}),D(!1)}};return(0,s.jsxs)(u.Z,{children:[(0,s.jsx)("form",{children:(0,s.jsxs)(i.ZP,{container:!0,spacing:6,children:[(0,s.jsx)(i.ZP,{item:!0,xs:12,sx:{marginTop:4,marginBottom:1},children:(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(M,{src:ee,alt:"Profile Pic"}),(0,s.jsxs)(a.Z,{children:[(0,s.jsxs)(U,{component:"label",variant:"contained",htmlFor:"account-settings-upload-image",children:["Upload New Photo",(0,s.jsx)("input",{hidden:!0,type:"file",onChange:e=>{let t=new FileReader,{files:r}=e.target;r&&0!==r.length&&(t.onload=()=>et(t.result),t.readAsDataURL(r[0]))},accept:"image/png, image/jpeg",id:"account-settings-upload-image"})]}),(0,s.jsx)(R,{color:"error",variant:"outlined",onClick:()=>et("/images/avatars/1.png"),children:"Reset"}),(0,s.jsx)(P.Z,{variant:"body2",sx:{marginTop:5},children:"Allowed PNG or JPEG. Max size of 800K."})]})]})}),(0,s.jsx)(i.ZP,{item:!0,xs:6,children:(0,s.jsx)(f.Z,{name:"username",control:$,label:"",size:"large",required:!0,disabled:!0,defaultValue:B.username})}),(0,s.jsx)(i.ZP,{item:!0,xs:6,children:(0,s.jsx)(f.Z,{name:"matricle",control:$,label:"",size:"large",required:!0,disabled:!0,defaultValue:null==B?void 0:B.matricle})}),(0,s.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,s.jsx)(f.Z,{name:"first_name",control:$,label:"",size:"large",required:!0,defaultValue:B.first_name})}),(0,s.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,s.jsx)(f.Z,{name:"last_name",control:$,label:"",size:"large",required:!0,defaultValue:B.last_name})}),(0,s.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,s.jsx)(f.Z,{name:"telephone",control:$,label:"",size:"large",required:!0,defaultValue:B.telephone})}),(0,s.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,s.jsx)(f.Z,{name:"email",control:$,label:"",size:"large",required:!0,defaultValue:B.email})}),H.length>0&&(null==A?void 0:null===(e=A.user)||void 0===e?void 0:e.role)=="student"?(0,s.jsx)(i.ZP,{container:!0,item:!0,direction:"row",spacing:4,children:H.map(e=>{var t,r;return(0,s.jsx)(i.ZP,{xs:12,sm:6,item:!0,direction:"row",children:(0,s.jsx)(f.Z,{name:"specialty_id",control:$,label:"Specialty",size:"large",required:!0,disabled:!0,defaultValue:(null==e?void 0:null===(t=e.main_specialty)||void 0===t?void 0:t.specialty_name)+" L"+(null==e?void 0:null===(r=e.level)||void 0===r?void 0:r.level)+" "+(null==e?void 0:e.academic_year)})},null==e?void 0:e.id)})}):null,(null===(t=E[0])||void 0===t?void 0:t.email_confirmed)?null:(0,s.jsx)(i.ZP,{item:!0,xs:12,sx:{mb:0},children:(0,s.jsxs)(o.Z,{severity:"warning",sx:{"& a":{fontWeight:400}},action:(0,s.jsx)(b.Z,{size:"small",color:"inherit","aria-label":"close",onClick:()=>X(!1),children:(0,s.jsx)(c.Z,{fontSize:"inherit"})}),children:[(0,s.jsx)(l.Z,{children:"Your email is not confirmed. Please check your inbox."}),(0,s.jsx)(d.Z,{onClick:()=>{y(!0)},children:"Resend Confirmation"})]})}),(0,s.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,s.jsx)(d.Z,{color:"primary",variant:"contained",size:"large",onClick:J(onSubmit),sx:{marginRight:3.5},children:"Save Changes"}),F?(0,s.jsx)(j.Z,{fetching:F,loadingText:"Saving"}):null]})]})}),(0,s.jsx)(Modals_ConfirmEmailModal,{showModal:C,setShowModal:y,email:B.email,reset:Q})]})}},98980:function(e,t,r){var s=r(57437),n=r(2265),a=r(38939),i=r(45099),o=r(49600),l=r(14172),u=r(60529),d=r(8323),c=r(5096),f=r(45323),m=r(38214),h=r(3198),x=r(61865),p=r(24033),g=r(2879),Z=r(2278),v=r(37451),w=r(48749),j=r(55941),C=r(44767);t.Z=()=>{var e;let t=(0,p.useRouter)(),r=(0,h.I0)(),P=(0,h.v9)(Z.rk),b=(0,h.v9)(Z.d),[y,_]=(0,n.useState)(!1),[A,S]=(0,n.useState)(""),[M,U]=(0,n.useState)(!1),[R,E]=(0,n.useState)(""),[N,T]=(0,n.useState)([]);(0,C.mb)(T,()=>{},{searchField:"id",value:P.id}),(0,n.useEffect)(()=>{var e,t,r,s;U(null!==(e=N[0])&&void 0!==e&&!!e.hod&&(null===(t=N[0])||void 0===t?void 0:t.hod)),S((null===(r=N[0])||void 0===r?void 0:r.sex)?N[0].sex:""),E((null===(s=N[0])||void 0===s?void 0:s.title)?N[0].title:"")},[N]);let L={...N[0]},{handleSubmit:k,reset:q,control:V}=(0,x.cI)({defaultValues:L}),onSubmit=async e=>{_(!0);let s={...e,user_id:e.id,sex:A,hod:M,title:R,updated_by_id:P.id,username:L.username,email:L.email,role:L.role},n=await (0,g.iK)({method:"put",url:v.tW+"/"+L.id,payload:s,hasAuth:!0});(null==n?void 0:n.data)&&(n.data.success&&(r((0,Z.zr)(n.data.success)),w.ZP.success({message:"OK",description:"Successfully Updated User"}),t.back()),n.data.errors&&w.ZP.error({message:"FAILED",description:"".concat(JSON.stringify(n.data.errors))}),n.data.error&&w.ZP.error({message:"FAILED",description:"".concat(JSON.stringify(n.data.error))}),_(!1))};return(0,s.jsx)(d.Z,{children:(0,s.jsx)("form",{children:(0,s.jsxs)(a.ZP,{container:!0,spacing:7,children:[(null==b?void 0:null===(e=b.user)||void 0===e?void 0:e.role)!="student"?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.ZP,{item:!0,xs:12,sm:12,sx:{marginTop:5},children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(l.Z,{sx:{fontSize:"0.875rem"},children:"Title"}),(0,s.jsxs)(u.Z,{row:!0,onChange:e=>{E(e.target.value)},defaultValue:null==L?void 0:L.title,"aria-label":"gender",name:"account-settings-info-radio",children:[(0,s.jsx)(f.Z,{value:"Prof",label:"Prof",control:(0,s.jsx)(i.Z,{})}),(0,s.jsx)(f.Z,{value:"Engr",label:"Engr",control:(0,s.jsx)(i.Z,{})}),(0,s.jsx)(f.Z,{value:"Dr",label:"Dr",control:(0,s.jsx)(i.Z,{})}),(0,s.jsx)(f.Z,{value:"Mr",label:"Mr",control:(0,s.jsx)(i.Z,{})}),(0,s.jsx)(f.Z,{value:"Mrs",label:"Mrs",control:(0,s.jsx)(i.Z,{})}),(0,s.jsx)(f.Z,{value:"Miss",label:"Miss",control:(0,s.jsx)(i.Z,{})})]})]})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,sm:3,children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(l.Z,{sx:{fontSize:"0.875rem"},children:"Head Of Department"}),(0,s.jsxs)(u.Z,{row:!0,onChange:e=>{U("true"==e.target.value)},defaultValue:null==L?void 0:L.hod,"aria-label":"gender",name:"account-settings-info-radio",children:[(0,s.jsx)(f.Z,{value:!0,label:"Yes",control:(0,s.jsx)(i.Z,{})}),(0,s.jsx)(f.Z,{value:!1,label:"No",control:(0,s.jsx)(i.Z,{})})]})]})})]}):null,(0,s.jsx)(a.ZP,{item:!0,xs:12,sm:3,children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(l.Z,{sx:{fontSize:"0.875rem"},children:"Gender"}),(0,s.jsxs)(u.Z,{row:!0,onChange:e=>{S(e.target.value)},defaultValue:null==L?void 0:L.sex,"aria-label":"gender",name:"account-settings-info-radio",children:[(0,s.jsx)(f.Z,{value:"Male",label:"Male",control:(0,s.jsx)(i.Z,{})}),(0,s.jsx)(f.Z,{value:"Female",label:"Female",control:(0,s.jsx)(i.Z,{})})]})]})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,sm:6,children:(0,s.jsx)(m.Z,{name:"address",control:V,label:"Address",size:"large",required:!0,defaultValue:null==L?void 0:L.address})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,sm:6,children:(0,s.jsx)(m.Z,{name:"pob",control:V,label:"Place Of Birth",size:"large",required:!0,defaultValue:null==L?void 0:L.pob})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,sm:6,children:(0,s.jsx)(m.Z,{name:"dob",control:V,label:"Date Of Birth",size:"large",required:!0,defaultValue:null==L?void 0:L.dob})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,sm:12,children:(0,s.jsx)(m.Z,{name:"about",control:V,label:"About",size:"large",required:!0,defaultValue:null==L?void 0:L.about})}),(0,s.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,s.jsx)(o.Z,{color:"primary",variant:"contained",size:"large",onClick:k(onSubmit),sx:{marginRight:4},children:"Save Changes"}),y?(0,s.jsx)(j.Z,{fetching:y,loadingText:"Saving"}):null]})]})})})}},5852:function(e,t,r){var s=r(57437),n=r(2265),a=r(38939),i=r(49600),o=r(54986),l=r(35009),u=r(46776),d=r(85269),c=r(8323),f=r(5096),m=r(90923),h=r(75483),x=r(47216),p=r(74140),g=r(38214),Z=r(61865),v=r(2879),w=r(3198),j=r(2278),C=r(48749),P=r(37451),b=r(55941),y=r(21700),_=r(33712);t.Z=()=>{let e=(0,w.v9)(j.rk),t=(0,w.v9)(y.nS),[r,A]=(0,n.useState)(!1),[S,M]=(0,n.useState)(!1),{handleSubmit:U,reset:R,control:E}=(0,Z.cI)({defaultValues:{currentPassword:"",newPassword:"",confirmNewPassword:""}}),[N,T]=(0,n.useState)({newPassword:"",currentPassword:"",showNewPassword:!1,confirmNewPassword:"",showCurrentPassword:!1,showConfirmNewPassword:!1}),onSubmit=async()=>{if(N.newPassword.length<4){C.ZP.error({message:"Password Short",description:"Must be Greater Than 3"});return}if(N.newPassword!=N.confirmNewPassword){C.ZP.error({message:"Password Not Matching !!!",description:""});return}A(!0);let r={...N,user_id:t.user.id,password:N.currentPassword,updating_password:!0,updated_by_id:e.id,action:"updating_password"},s=await (0,v.iK)({method:"post",url:P.ZM,payload:r,hasAuth:!0});(null==s?void 0:s.data)&&(s.data.success&&C.ZP.success({message:"OK",description:"Successfully Updated Password"}),s.data.errors&&C.ZP.error({message:"FAILED",description:"".concat(JSON.stringify(s.data.errors))}),s.data.error&&C.ZP.error({message:"FAILED",description:"".concat(JSON.stringify(s.data.error))})),A(!1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{children:[(0,s.jsx)(c.Z,{sx:{paddingBottom:0},children:(0,s.jsx)(a.ZP,{container:!0,spacing:5,justifyContent:"center",children:(0,s.jsx)(a.ZP,{item:!0,xs:12,sm:6,children:(0,s.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,s.jsx)(a.ZP,{item:!0,xs:12,sx:{marginTop:3},container:!0,justifyContent:"center",children:(0,s.jsxs)(d.Z,{children:["Change Password For - ",t.user.first_name," ",t.user.last_name]})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,sx:{marginTop:1},children:(0,s.jsx)(g.Z,{name:"username",control:E,type:N.showCurrentPassword?"text":"password",label:"",size:"large",required:!0,customInput:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{htmlFor:"account-settings-current-password",children:"Current Password"}),(0,s.jsx)(m.Z,{fullWidth:!0,label:"Current Password",value:N.currentPassword,id:"account-settings-current-password",type:N.showCurrentPassword?"text":"password",onChange:e=>{T({...N,currentPassword:e.target.value})},endAdornment:(0,s.jsx)(h.Z,{position:"end",children:(0,s.jsx)(u.Z,{edge:"end","aria-label":"toggle password visibility",onClick:()=>{T({...N,showCurrentPassword:!N.showCurrentPassword})},onMouseDown:e=>{e.preventDefault()},children:N.showCurrentPassword?(0,s.jsx)(x.Z,{}):(0,s.jsx)(p.Z,{})})})})]})})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,sx:{marginTop:4},children:(0,s.jsx)(g.Z,{name:"username",control:E,type:N.showCurrentPassword?"text":"password",label:"",size:"large",required:!0,customInput:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{htmlFor:"account-settings-new-password",children:"Current Password"}),(0,s.jsx)(m.Z,{fullWidth:!0,label:"New Password",value:N.newPassword,id:"account-settings-current-password",type:N.showNewPassword?"text":"password",onChange:e=>{T({...N,newPassword:e.target.value})},endAdornment:(0,s.jsx)(h.Z,{position:"end",children:(0,s.jsx)(u.Z,{edge:"end","aria-label":"toggle password visibility",onClick:()=>{T({...N,showNewPassword:!N.showNewPassword})},onMouseDown:e=>{e.preventDefault()},children:N.showNewPassword?(0,s.jsx)(x.Z,{}):(0,s.jsx)(p.Z,{})})})})]})})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,children:(0,s.jsxs)(f.Z,{fullWidth:!0,children:[(0,s.jsx)(l.Z,{htmlFor:"account-settings-confirm-new-password",children:"Confirm New Password"}),(0,s.jsx)(m.Z,{label:"Confirm New Password",value:N.confirmNewPassword,id:"account-settings-confirm-new-password",type:N.showConfirmNewPassword?"text":"password",onChange:e=>{T({...N,confirmNewPassword:e.target.value})},endAdornment:(0,s.jsx)(h.Z,{position:"end",children:(0,s.jsx)(u.Z,{edge:"end","aria-label":"toggle password visibility",onClick:()=>{T({...N,showConfirmNewPassword:!N.showConfirmNewPassword})},onMouseDown:e=>{e.preventDefault()},children:N.showConfirmNewPassword?(0,s.jsx)(x.Z,{}):(0,s.jsx)(p.Z,{})})})})]})})]})})})}),(0,s.jsx)(o.Z,{sx:{marginTop:4,marginBottom:4}}),(0,s.jsx)(a.ZP,{item:!0,xs:12,container:!0,justifyContent:"center",marginBottom:2,children:(0,s.jsxs)(a.ZP,{item:!0,xs:12,container:!0,justifyContent:"center",children:[(0,s.jsx)(i.Z,{color:"primary",variant:"contained",size:"large",onClick:U(onSubmit),sx:{marginRight:1},children:"Save Changes"}),r?(0,s.jsx)(b.Z,{fetching:r,loadingText:"Saving"}):null]})})]}),(0,s.jsx)(_.Z,{showModal:S,setShowModal:M})]})}}}]);