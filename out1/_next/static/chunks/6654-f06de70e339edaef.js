"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6654],{60700:function(e,t,r){var s=r(57437),n=r(79404),u=r(33071),l=r(48749),i=r(2265),a=r(3198),o=r(2879),c=r(2278),d=r(98075),f=r(49600);t.Z=e=>{let{showModal:t,setShowModal:r,url:p,record_name:h,reset:m,record:g}=e,A=(0,a.v9)(c.rk).id,[x]=n.Z.useForm(),[v,w]=(0,i.useState)(!1),onSubmit=async()=>{w(!0),console.log(g);let e=await (0,o.iK)({method:"delete",url:p+"/"+g.id,payload:{deleted_by_id:A},hasAuth:!0});w(!1),(null==e?void 0:e.data.success)&&(l.ZP.success({message:"Operation Successful",description:h+" Deleted Successfully"}),m(),x.resetFields(),r(!1)),(null==e?void 0:e.data.errors)&&l.ZP.error({message:"Operation Failed",description:"".concat(JSON.stringify(e.data.errors))})};return(0,s.jsx)(u.Z,{title:"Delete ".concat(null==h?void 0:h.toUpperCase()),open:t,onCancel:()=>r(!1),footer:!1,children:(0,s.jsxs)("div",{className:"flex flex-col flex-wrap text-3xl p-4 bg-teal-600 gap-6 items-center justify-center",children:[(0,s.jsxs)("h1",{children:["DELETE ",null==h?void 0:h.toUpperCase()]}),(0,s.jsx)("div",{className:"px-6 items-center",children:"ARE YOU SURE TO DELETE"}),(0,s.jsx)("div",{className:"px-6 items-center uppercase text-yellow-400 font-bold",children:h}),(0,s.jsxs)(d.Z,{spacing:4,direction:"row",children:[(0,s.jsx)(f.Z,{onClick:()=>{r(!1)},children:"Cancel"}),(0,s.jsx)(f.Z,{onClick:()=>{onSubmit()},children:"Delete"})]})]})})}},91678:function(e,t,r){var s=r(57437);r(2265);var n=r(88110),u=r.n(n);t.Z=e=>{let{loading:t}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(u(),{htmlType:"submit",type:"primary",block:!0,loading:t,className:"flex gap-4 items-center justify-center bg-blue-500 text-lg h-10 font-semibold",children:(0,s.jsx)("span",{children:"Update"})})})}},2278:function(e,t,r){r.d(t,{BQ:function(){return o},P1:function(){return u},PJ:function(){return n},RW:function(){return f},d:function(){return selectUserProfile},dj:function(){return a},rk:function(){return selectAuthUser},v$:function(){return d},xI:function(){return c},zr:function(){return p}});var s=r(50663);let n={id:0,username:"",matricle:"",first_name:"",last_name:"",role:"",password:"",address:"",about:"",sex:"",telephone:0,pob:"",dob:"",email:"",email_confirmed:!1,hod:!1,title:"",created_at:"",last_login:"",is_active:!1,groups:[],user_permissions:[]},u={id:0,user:n,created_at:"",updated_at:""},l={id:0,username:"",role:"",is_active:!1,token:"",refresh:""},i={user_id:0},a=(0,s.oM)({name:"authUser",initialState:l,reducers:{addAuthUser:(e,t)=>{let r=t.payload;return r},removeAuthUser:()=>l}}),o=(0,s.oM)({name:"userProfile",initialState:u,reducers:{addUserProfile:(e,t)=>{let r=t.payload;return r},removeUserProfile:()=>u}}),c=(0,s.oM)({name:"userCheck",initialState:i,reducers:{addUserCheck:(e,t)=>{let r=t.payload;return r},removeUserCheck:()=>i}}),{addAuthUser:d,removeAuthUser:f}=a.actions,{addUserProfile:p,removeUserProfile:h}=o.actions,{addUserCheck:m,removeUserCheck:g}=c.actions,selectAuthUser=e=>e.authUser,selectUserProfile=e=>e.userProfile;a.reducer},37451:function(e,t,r){r.d(t,{$6:function(){return h},B5:function(){return x},E2:function(){return y},FO:function(){return c},G1:function(){return v},Hz:function(){return w},IK:function(){return G},QM:function(){return o},Rd:function(){return d},SC:function(){return g},VN:function(){return l},W5:function(){return i},Xx:function(){return A},ZM:function(){return m},_F:function(){return u},bw:function(){return j},cU:function(){return E},dH:function(){return f},gv:function(){return a},tW:function(){return p},vw:function(){return n}});let s="https://st-joan.com/back/",n="https://st-joan.com/result/images/logos/stjoan.jpg",u="/images/avatars/user.jpg",l=s+"admin",i=s+"user/groups",a=s+"user/groups",o=s+"user/groups",c=s+"user/permissions",d=s+"user/login",f=s+"user/check-user",p=s+"user/crud-user",h=s+"user/assign-group-to-user",m=s+"user/create-update-reset-password",g=s+"user/password_reset",A=s+"user/user-profiles",x=s+"app/domain",v=s+"app/mainspecialty",w=s+"app/specialty",E=s+"app/maincourse",y=s+"app/course",j=s+"app/result",G=s+"app/level"},44767:function(e,t,r){r.d(t,{Kq:function(){return useGetAllMainCourses},Lh:function(){return useGetAllLevels},Nz:function(){return useGetAllDomains},Rc:function(){return useGetPermissions},UK:function(){return useGetAllCourses},e6:function(){return useGetPermGroups},lJ:function(){return useGetAllMainSpecialties},lP:function(){return useGetAllResults},mC:function(){return useGetAllSpecialties},mb:function(){return useGetAllUsers},qT:function(){return useGetAllUserProfiles}});var s=r(2265),n=r(2879);let useGetPermGroups=(e,t)=>{(0,s.useEffect)(()=>{(0,n.TR)(e,t)},[e,t])},useGetPermissions=(e,t)=>{(0,s.useEffect)(()=>{(0,n.Zu)(e,t)},[e,t])},useGetAllUsers=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.AW)(e,t,r)},[e,t,r])},useGetAllUserProfiles=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.l)(e,t,r)},[e,t,r])},useGetAllDomains=(e,t)=>{(0,s.useEffect)(()=>{(0,n.CC)(e,t)},[e,t])},useGetAllSpecialties=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.h0)(e,t,r)},[e,t,r])},useGetAllMainSpecialties=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.VQ)(e,t,r)},[e,t,r])},useGetAllCourses=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.V3)(e,t,r)},[e,t,r])},useGetAllMainCourses=(e,t)=>{(0,s.useEffect)(()=>{(0,n.N9)(e,t)},[e,t])},useGetAllResults=(e,t,r)=>{(0,s.useEffect)(()=>{(0,n.qf)(e,t,r)},[e,t,r])},useGetAllLevels=(e,t)=>{(0,s.useEffect)(()=>{(0,n.cO)(e,t)},[e,t])}},2879:function(e,t,r){r.d(t,{AW:function(){return getAllUsers},CC:function(){return getAllDomains},N9:function(){return getAllMainCourses},TR:function(){return getPermGroups},V3:function(){return getAllCourses},VQ:function(){return getAllMainSpecialties},Zu:function(){return getPermissions},cO:function(){return getAllLevels},h0:function(){return getAllSpecialties},iK:function(){return axiosRequest},l:function(){return getAllUserProfiles},qf:function(){return getAllResults}});var s=r(92173),n=r(37451);let axiosRequest=async e=>{let{method:t="get",url:r,payload:n,hasAuth:u=!1,showError:l=!0,file:i=!1,params:a={},errorObject:o}=e,c={};i&&(c={...c,"content-type":"multipart/form-data"}),n={payload:n};let d=await (0,s.Z)({method:t,url:r,params:a,data:n,headers:{...c}}).catch(e=>{if(l)return e.response});return d||null},getPermGroups=async(e,t)=>{let r=await axiosRequest({url:n.W5,hasAuth:!0,showError:!1});if(r){let s=r.data.results.map(e=>({...e}));e(s),t(!1)}},getPermissions=async(e,t)=>{let r=await axiosRequest({url:n.FO,hasAuth:!0,showError:!1});if(r){let s=r.data.results.map(e=>({...e}));e(s),t(!1)}},getAllUsers=async(e,t,r)=>{console.log(r);let s=await axiosRequest({url:n.tW,hasAuth:!0,showError:!1,params:r});if(s){let r=s.data.results.map(e=>{var t,r,s;return{...e,created_at:null===(t=e.created_at)||void 0===t?void 0:t.toString().slice(0,10),last_login:(null===(r=e.last_login)||void 0===r?void 0:r.toString().slice(0,10))+" "+(null===(s=e.last_login)||void 0===s?void 0:s.toString().slice(11,16))}});e(r),t(!1)}},getAllUserProfiles=async(e,t,r)=>{let s=await axiosRequest({url:n.Xx,hasAuth:!0,showError:!1,params:r});if(s){let r=s.data.results.map(e=>{var t;return{...e,created_at:null===(t=e.created_at)||void 0===t?void 0:t.toString().slice(0,10)}});e(r),t(!1)}},getAllDomains=async(e,t)=>{let r=await axiosRequest({url:n.B5,hasAuth:!0,showError:!1});r&&(e(r.data.results),t(!1))},getAllSpecialties=async(e,t,r)=>{let s=await axiosRequest({url:n.Hz,hasAuth:!0,showError:!1,params:r});s&&(e(s.data.results),t(!1))},getAllMainSpecialties=async(e,t,r)=>{let s=await axiosRequest({url:n.G1,hasAuth:!0,showError:!1,params:r});s&&(e(s.data.results),t(!1))},getAllMainCourses=async(e,t)=>{let r=await axiosRequest({url:n.cU,hasAuth:!0,showError:!1});r&&(e(r.data.results),t(!1))},getAllCourses=async(e,t,r)=>{let s=await axiosRequest({url:n.E2,hasAuth:!0,showError:!1,params:r});s&&(e(s.data.results),t(!1))},getAllResults=async(e,t,r)=>{let s=await axiosRequest({url:n.bw,hasAuth:!0,showError:!1,params:r});s&&(e(s.data.results),t(!1))},getAllLevels=async(e,t)=>{let r=await axiosRequest({url:n.IK,hasAuth:!0,showError:!1});r&&(e(r.data.results),t(!1))}},63552:function(e,t,r){var s=r(57437);r(2265);var n=r(65984),u=r(8323),l=r(85269),i=r(98075),a=r(96507);t.Z=e=>{let{title:t,subtitle:r,children:o,action:c,footer:d,cardheading:f,headtitle:p,headsubtitle:h,middlecontent:m}=e;return(0,s.jsxs)(n.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[f?(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(l.Z,{variant:"h5",children:p}),(0,s.jsx)(l.Z,{variant:"subtitle2",color:"textSecondary",children:h})]}):(0,s.jsxs)(u.Z,{sx:{p:"10px"},children:[t?(0,s.jsxs)(i.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,s.jsxs)(a.Z,{children:[t?(0,s.jsx)(l.Z,{variant:"h5",children:t}):"",r?(0,s.jsx)(l.Z,{variant:"subtitle2",color:"textSecondary",children:r}):""]}),c]}):null,o]}),m,d]})}}}]);